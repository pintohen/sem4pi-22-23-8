<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1413px" preserveAspectRatio="none" style="width:1647px;height:1413px;background:#FFFFFF;" version="1.1" viewBox="0 0 1647 1413" width="1647px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1226.5918" style="stroke:#181818;stroke-width:1.0;" width="10" x="32.5" y="93.6211"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="250.5" y="188.7852"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="250.5" y="251.3672"/><rect fill="#FFFFFF" height="183.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="250.5" y="1137.127"/><rect fill="#FFFFFF" height="437.0742" style="stroke:#181818;stroke-width:1.0;" width="10" x="550.5" y="282.6582"/><rect fill="#FFFFFF" height="345.5508" style="stroke:#181818;stroke-width:1.0;" width="10" x="550.5" y="791.5762"/><rect fill="#FFFFFF" height="213.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="740.5" y="892.4199"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1162" y="358.2402"/><rect fill="#FFFFFF" height="68.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1258" y="589.8594"/><rect fill="#FFFFFF" height="164.3965" style="stroke:#181818;stroke-width:1.0;" width="10" x="1258" y="689.7324"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1258" y="1168.418"/><rect fill="#FFFFFF" height="103.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1353" y="420.8223"/><rect fill="none" height="127.3965" style="stroke:#000000;stroke-width:1.5;" width="836.5" x="470" y="734.7324"/><rect fill="none" height="123.834" style="stroke:#000000;stroke-width:1.5;" width="450.5" x="664" y="907.4199"/><rect fill="none" height="98.5039" style="stroke:#000000;stroke-width:1.5;" width="310" x="10" y="1214.709"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="83.6211" y2="1330.2129"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="255" x2="255" y1="83.6211" y2="1330.2129"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="555" x2="555" y1="83.6211" y2="1330.2129"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="745" x2="745" y1="83.6211" y2="1330.2129"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="963.5" x2="963.5" y1="83.6211" y2="1330.2129"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1057.5" x2="1057.5" y1="958.5215" y2="1330.2129"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1166.5" x2="1166.5" y1="83.6211" y2="1330.2129"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1262.5" x2="1262.5" y1="83.6211" y2="1330.2129"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1357.5" x2="1357.5" y1="83.6211" y2="1330.2129"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="20" y="80.1074">User</text><ellipse cx="37.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37.5,21.5 L37.5,48.5 M24.5,29.5 L50.5,29.5 M37.5,48.5 L24.5,63.5 M37.5,48.5 L50.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="20" y="1344.3203">User</text><ellipse cx="37.5" cy="1356.334" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37.5,1364.334 L37.5,1391.334 M24.5,1372.334 L50.5,1372.334 M37.5,1391.334 L24.5,1406.334 M37.5,1391.334 L50.5,1406.334 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="201" y="31.3789"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="208" y="53.4863">&#171;presentation&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="232" y="72.1074">LoginUI</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="201" y="1329.2129"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="208" y="1351.3203">&#171;presentation&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="232" y="1369.9414">LoginUI</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="480" y="31.3789"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="525.5" y="53.4863">&#171;service&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="487" y="72.1074">AuthenticationService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="480" y="1329.2129"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="525.5" y="1351.3203">&#171;service&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="487" y="1369.9414">AuthenticationService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="674" y="31.3789"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="715.5" y="53.4863">&#171;service&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="681" y="72.1074">AuthorizationService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="674" y="1329.2129"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="715.5" y="1351.3203">&#171;service&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="681" y="1369.9414">AuthorizationService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="925.5" y="31.3789"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="932.5" y="53.4863">&#171;domain&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="949" y="72.1074">User</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="925.5" y="1329.2129"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="932.5" y="1351.3203">&#171;domain&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="949" y="1369.9414">User</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1011.5" y="1329.2129"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1018.5" y="1351.3203">UserSession</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="1114.5" y="31.3789"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91" x="1121.5" y="53.4863">&#171;value object&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1150" y="72.1074">Email</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="1114.5" y="1329.2129"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="91" x="1121.5" y="1351.3203">&#171;value object&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1150" y="1369.9414">Email</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="1229.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1236.5" y="72.1074">Optional</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67" x="1229.5" y="1329.2129"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1236.5" y="1351.3203">Optional</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1306.5" y="80.1074">UserRepository</text><path d="M1340,29 C1340,19 1358,19 1358,19 C1358,19 1376,19 1376,29 L1376,55 C1376,65 1358,65 1358,65 C1358,65 1340,65 1340,55 L1340,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1340,29 C1340,39 1358,39 1358,39 C1358,39 1376,39 1376,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1306.5" y="1344.3203">UserRepository</text><path d="M1340,1357.834 C1340,1347.834 1358,1347.834 1358,1347.834 C1358,1347.834 1376,1347.834 1376,1357.834 L1376,1383.834 C1376,1393.834 1358,1393.834 1358,1393.834 C1358,1393.834 1340,1393.834 1340,1383.834 L1340,1357.834 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1340,1357.834 C1340,1367.834 1358,1367.834 1358,1367.834 C1358,1367.834 1376,1367.834 1376,1357.834 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="1226.5918" style="stroke:#181818;stroke-width:1.0;" width="10" x="32.5" y="93.6211"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="250.5" y="188.7852"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="250.5" y="251.3672"/><rect fill="#FFFFFF" height="183.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="250.5" y="1137.127"/><rect fill="#FFFFFF" height="437.0742" style="stroke:#181818;stroke-width:1.0;" width="10" x="550.5" y="282.6582"/><rect fill="#FFFFFF" height="345.5508" style="stroke:#181818;stroke-width:1.0;" width="10" x="550.5" y="791.5762"/><rect fill="#FFFFFF" height="213.416" style="stroke:#181818;stroke-width:1.0;" width="10" x="740.5" y="892.4199"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1162" y="358.2402"/><rect fill="#FFFFFF" height="68.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1258" y="589.8594"/><rect fill="#FFFFFF" height="164.3965" style="stroke:#181818;stroke-width:1.0;" width="10" x="1258" y="689.7324"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1258" y="1168.418"/><rect fill="#FFFFFF" height="103.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1353" y="420.8223"/><path d="M1268,98.6211 L1268,159.6211 L1640,159.6211 L1640,108.6211 L1630,98.6211 L1268,98.6211 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1630,98.6211 L1630,108.6211 L1640,108.6211 L1630,98.6211 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="1274" y="117.6494">Optional abstractions are not fully represented here.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351" x="1274" y="134.9404">Must read java Optional documentation in order to implement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="1274" y="152.2314">our code.</text><polygon fill="#181818" points="238.5,184.7852,248.5,188.7852,238.5,192.7852,242.5,188.7852" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="42.5" x2="244.5" y1="188.7852" y2="188.7852"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="49.5" y="183.5225">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="60.5" y="183.5225">wants to login</text><polygon fill="#181818" points="53.5,216.0762,43.5,220.0762,53.5,224.0762,49.5,220.0762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47.5" x2="254.5" y1="220.0762" y2="220.0762"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59.5" y="214.8135">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="70.5" y="214.8135">asks for email and password</text><polygon fill="#181818" points="238.5,247.3672,248.5,251.3672,238.5,255.3672,242.5,251.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="42.5" x2="244.5" y1="251.3672" y2="251.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="49.5" y="246.1045">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="60.5" y="246.1045">provides necessary information</text><polygon fill="#181818" points="538.5,278.6582,548.5,282.6582,538.5,286.6582,542.5,282.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="255.5" x2="544.5" y1="282.6582" y2="282.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="262.5" y="277.3955">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="273.5" y="277.3955">authenticate(email, password, requiredRoles)</text><line style="stroke:#181818;stroke-width:1.0;" x1="560.5" x2="602.5" y1="313.9492" y2="313.9492"/><line style="stroke:#181818;stroke-width:1.0;" x1="602.5" x2="602.5" y1="313.9492" y2="326.9492"/><line style="stroke:#181818;stroke-width:1.0;" x1="561.5" x2="602.5" y1="326.9492" y2="326.9492"/><polygon fill="#181818" points="571.5,322.9492,561.5,326.9492,571.5,330.9492,567.5,326.9492" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="567.5" y="308.6865">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="578.5" y="308.6865">retrieveUser(email)</text><polygon fill="#181818" points="1150,354.2402,1160,358.2402,1150,362.2402,1154,358.2402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="560.5" x2="1156" y1="358.2402" y2="358.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="567.5" y="352.9775">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="578.5" y="352.9775">Email.valueOf(emailString)</text><polygon fill="#181818" points="571.5,385.5313,561.5,389.5313,571.5,393.5313,567.5,389.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="565.5" x2="1166" y1="389.5313" y2="389.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="577.5" y="384.2686">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="588.5" y="384.2686">email</text><polygon fill="#181818" points="1341,416.8223,1351,420.8223,1341,424.8223,1345,420.8223" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="560.5" x2="1347" y1="420.8223" y2="420.8223"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="567.5" y="415.5596">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="578.5" y="415.5596">ofIdentity(email)</text><path d="M1368,433.8223 L1368,494.8223 L1551,494.8223 L1551,443.8223 L1541,433.8223 L1368,433.8223 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1541,433.8223 L1541,443.8223 L1551,443.8223 L1541,433.8223 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1374" y="452.8506">Repository implementation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1374" y="470.1416">will depend on the argument</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1378" y="487.4326">passed in authzregistry</text><polygon fill="#181818" points="571.5,519.9863,561.5,523.9863,571.5,527.9863,567.5,523.9863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="565.5" x2="1357" y1="523.9863" y2="523.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="577.5" y="518.7236">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="588.5" y="518.7236">optional</text><polygon fill="#181818" points="1246,585.8594,1256,589.8594,1246,593.8594,1250,589.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="560.5" x2="1252" y1="589.8594" y2="589.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="567.5" y="567.3057">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="585.5" y="550.0146">filter(user -&gt; user.passwordMatches(password, encoder) &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="589.5" y="567.3057">(noRolesToValidate(roles) || user.hasAnyOf(roles)) &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="593.5" y="584.5967">user.isActive())</text><path d="M565,602.8594 L565,629.8594 L796,629.8594 L796,612.8594 L786,602.8594 L565,602.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M786,602.8594 L786,612.8594 L796,612.8594 L786,602.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="571" y="621.8877">filtering was shortened for readability</text><polygon fill="#181818" points="571.5,654.4414,561.5,658.4414,571.5,662.4414,567.5,658.4414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="565.5" x2="1262" y1="658.4414" y2="658.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="577.5" y="653.1787">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="595.5" y="653.1787">optional</text><polygon fill="#181818" points="1246,685.7324,1256,689.7324,1246,693.7324,1250,689.7324" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="560.5" x2="1252" y1="689.7324" y2="689.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="567.5" y="684.4697">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="585.5" y="684.4697">orElse(null)</text><path d="M470,734.7324 L531,734.7324 L531,744.0234 L521,754.0234 L470,754.0234 L470,734.7324 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="127.3965" style="stroke:#000000;stroke-width:1.5;" width="836.5" x="470" y="734.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="485" y="749.7607">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="185" x="546" y="748.6025">[user exists, password is correct</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="189" x="546" y="763.2334">and has one of the required roles]</text><polygon fill="#181818" points="571.5,787.5762,561.5,791.5762,571.5,795.5762,567.5,791.5762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="565.5" x2="1257" y1="791.5762" y2="791.5762"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="577.5" y="786.3135">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="595.5" y="786.3135">user</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="470" x2="1306.5" y1="800.5762" y2="800.5762"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="252" x="475" y="812.4463">[user does not exist or password is incorrect</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="239" x="475" y="827.0771">or does not have one of the required roles]</text><polygon fill="#181818" points="571.5,850.1289,561.5,854.1289,571.5,858.1289,567.5,854.1289" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="565.5" x2="1262" y1="854.1289" y2="854.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="577.5" y="848.8662">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="595.5" y="848.8662">null</text><polygon fill="#181818" points="728.5,888.4199,738.5,892.4199,728.5,896.4199,732.5,892.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="560.5" x2="734.5" y1="892.4199" y2="892.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="567.5" y="887.1572">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="585.5" y="887.1572">createUserSession(user)</text><path d="M664,907.4199 L725,907.4199 L725,916.7109 L715,926.7109 L664,926.7109 L664,907.4199 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="123.834" style="stroke:#000000;stroke-width:1.5;" width="450.5" x="664" y="907.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="679" y="922.4482">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="323" x="740" y="921.29">[user was previously valid and successfully authenticated]</text><polygon fill="#181818" points="999.5,946.002,1009.5,950.002,999.5,954.002,1003.5,950.002" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="750.5" x2="1005.5" y1="950.002" y2="950.002"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="757.5" y="944.7393">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="775.5" y="944.7393">create(user)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="1011.5" y="926.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1018.5" y="948.8184">UserSession</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="664" x2="1114.5" y1="971.332" y2="971.332"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="374" x="669" y="983.2021">[user had something wrong with authentication so its object is null]</text><line style="stroke:#181818;stroke-width:1.0;" x1="750.5" x2="792.5" y1="1010.2539" y2="1010.2539"/><line style="stroke:#181818;stroke-width:1.0;" x1="792.5" x2="792.5" y1="1010.2539" y2="1023.2539"/><line style="stroke:#181818;stroke-width:1.0;" x1="751.5" x2="792.5" y1="1023.2539" y2="1023.2539"/><polygon fill="#181818" points="761.5,1019.2539,751.5,1023.2539,761.5,1027.2539,757.5,1023.2539" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="757.5" y="1004.9912">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="775.5" y="1004.9912">clearSession() (session = null)</text><line style="stroke:#181818;stroke-width:1.0;" x1="750.5" x2="792.5" y1="1061.5449" y2="1061.5449"/><line style="stroke:#181818;stroke-width:1.0;" x1="792.5" x2="792.5" y1="1061.5449" y2="1074.5449"/><line style="stroke:#181818;stroke-width:1.0;" x1="751.5" x2="792.5" y1="1074.5449" y2="1074.5449"/><polygon fill="#181818" points="761.5,1070.5449,751.5,1074.5449,761.5,1078.5449,757.5,1074.5449" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="757.5" y="1056.2822">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="775.5" y="1056.2822">session()</text><polygon fill="#181818" points="571.5,1101.8359,561.5,1105.8359,571.5,1109.8359,567.5,1105.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="565.5" x2="744.5" y1="1105.8359" y2="1105.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="577.5" y="1100.5732">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="595.5" y="1100.5732">optional</text><polygon fill="#181818" points="271.5,1133.127,261.5,1137.127,271.5,1141.127,267.5,1137.127" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="265.5" x2="554.5" y1="1137.127" y2="1137.127"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="277.5" y="1131.8643">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="295.5" y="1131.8643">optional</text><polygon fill="#181818" points="1246,1164.418,1256,1168.418,1246,1172.418,1250,1168.418" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="260.5" x2="1252" y1="1168.418" y2="1168.418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="267.5" y="1163.1553">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="285.5" y="1163.1553">isPresent()</text><polygon fill="#181818" points="271.5,1195.709,261.5,1199.709,271.5,1203.709,267.5,1199.709" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="265.5" x2="1262" y1="1199.709" y2="1199.709"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="277.5" y="1194.4463">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="295.5" y="1194.4463">bool</text><path d="M10,1214.709 L71,1214.709 L71,1224 L61,1234 L10,1234 L10,1214.709 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="98.5039" style="stroke:#000000;stroke-width:1.5;" width="310" x="10" y="1214.709"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="1229.7373">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="128" x="86" y="1228.5791">[there is user session]</text><polygon fill="#181818" points="53.5,1253.291,43.5,1257.291,53.5,1261.291,49.5,1257.291" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47.5" x2="249.5" y1="1257.291" y2="1257.291"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59.5" y="1252.0283">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="77.5" y="1252.0283">informs login was a success</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="320" y1="1266.291" y2="1266.291"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142" x="15" y="1278.1611">[there isn't user session]</text><polygon fill="#181818" points="53.5,1301.2129,43.5,1305.2129,53.5,1309.2129,49.5,1305.2129" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47.5" x2="249.5" y1="1305.2129" y2="1305.2129"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59.5" y="1299.9502">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="77.5" y="1299.9502">informs login failed</text><!--SRC=[dLPDRzim3BtxLn0zR76nzWS4Mu4UTYYmOKExxjIBOZEnEaVo9DbTWltuaPJbZzJ1WFQGEXO_7X-VoAWsMDFkD-WoLGJhuEBHexi0vQ6bXrj-bsMDSa4Nkb4cmCKNkzFcyIxQQFZuiN7eqGGLj3KtDtFZspPKTAOBENr0r-a2nLNH2Jdx-6h9ppfzN7GxdlUReIUpqkwLFaN5HW_eFOK6jlNnUHxfCpdM4WhvYM9rgcuHxEOPYt2Qzrl3G5LqiFsNh5H1RPJ7YEiU6-ir4NeO4FAhB3Cs83YzgmBOxUWDz9VYWjhuuAX5z8r8S0Za1DkshW_WiEy0bb2Xmsln_DhwG4UgX6VLgJ5GQOjsdze5se1r9L4LBEXzKoCVYRzj7HIsf6XeIiw66Kj4Tuh0ZjfWq-4RNDsm9DRmGgHuZbcpM2P-EZfek6BJmMzDXFpoiAN7oBQYd8to_eNGPIM-2l0gO-DifqlqOB2WTYfteDeetbxgN4Hm4pMubd-zI74b-JyCoJyGXxzRxR2yjpNw_0JCX1EE8h4bwXZTON0QEsG9nEZvp4nUhK7qTYqQ-xQDTW_aQ7Rvc4BUYdDawMhC4eycu4RRb2W9ZgpjzgxaYiCX8PgrLcJ9hdDbfgCrZ58ULHC5zMHUT4qgmuPbGo-8MjBhJZJtP8HNqYdfJcwomvqcOH-6hWh0ILtZNS9bYAcwP4W-Mrq7ubf6G5_tTUhdLnMA2lrgx2yQbhdBuTqxmhSoLXhzm_vKjIvP4KuQ3t__naYLyhVcG3sAxtk_UARzBOF4LPulyCTG4pfgBDqIcZqqvW8QeeJ5p_TLRNHDZSccsfhDXA7I_z0qSrgWoRhFjSULeI6IBwIQH1gbNOSuMV4FjSsFrmIqfsdX78t69yENj-8vQ93BPWMaImH2ciHQB6KjuHSk5HBKcBgqVCjf-Wa6gc86Gfi1XftOLgh3j-5XUiwooXedJh9Nz_v8_1RKpO2JPIEApEV57UUyiYHecdVQjfv6UySQb67esuBdMfpuqu5L3k1ZNaRUBxJBom55d_g4oegsWxTx39N8qLd-r5I5cgrjiW5DypokFcPPI3d9EocyHZNKdCEgXmEV86fjojnY09zyitbTvyK-QK3Q26U5lBmB9XT3- -zneIO0_x-6ad5ZRJmwUmcfpO5ND7Ce7KW_FHAN2vinhZ4VLwa8H2KrZErCKStxyCR0Mre3lPXIRqw8ExvYShuBJoPq_zino_u1]--></g></svg>